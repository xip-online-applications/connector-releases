{
  "version": 3,
  "sources": ["../../../../../../../libs/connector-runner-sql-source/src/lib/types.ts"],
  "sourcesContent": ["import {\n  DatasourceOptions,\n  isDatasourceOptions,\n} from '@xip-online-data/datasource';\n\nexport interface SourceConfig {\n  query: string;\n  queryIdentifier: string;\n  queryName: string;\n  keyField: string;\n  incrementalField: string;\n  indexes?: Array<string>;\n  ignoreFields?: Array<string>;\n  batchSize: number;\n  interval: number;\n  offsetFilePrefix?: string;\n  runAfterEvents?: Array<string>;\n  rateLimiter?: number;\n}\n\nexport function isSourceConfigType(obj: SourceConfig): obj is SourceConfig {\n  return (\n    obj !== undefined &&\n    obj !== null &&\n    obj.query !== undefined &&\n    typeof obj.query === 'string' &&\n    obj.queryIdentifier !== undefined &&\n    typeof obj.queryIdentifier === 'string' &&\n    obj.queryName !== undefined &&\n    typeof obj.queryName === 'string' &&\n    obj.keyField !== undefined &&\n    typeof obj.keyField === 'string' &&\n    obj.incrementalField !== undefined &&\n    typeof obj.incrementalField === 'string' &&\n    obj.batchSize !== undefined &&\n    typeof obj.batchSize === 'number' &&\n    !isNaN(obj.batchSize) &&\n    obj.interval !== undefined &&\n    typeof obj.interval === 'number' &&\n    !isNaN(obj.interval)\n  );\n}\n\nexport interface SqlSourceRunnerConfig {\n  database: DatasourceOptions;\n  queries: Array<SourceConfig>;\n}\n\nexport function isSqlSourceRunnerConfigType(\n  obj: SqlSourceRunnerConfig,\n): obj is SqlSourceRunnerConfig {\n  return (\n    obj !== undefined &&\n    obj !== null &&\n    isDatasourceOptions(obj.database) &&\n    Array.isArray(obj.queries) &&\n    obj.queries.every((q) => isSourceConfigType(q)) &&\n    Array.from(new Set(obj.queries.map((q) => q.queryIdentifier))).length ===\n      obj.queries.length\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAGO;AAiBA,SAAS,mBAAmB,KAAwC;AACzE,SACE,QAAQ,UACR,QAAQ,QACR,IAAI,UAAU,UACd,OAAO,IAAI,UAAU,YACrB,IAAI,oBAAoB,UACxB,OAAO,IAAI,oBAAoB,YAC/B,IAAI,cAAc,UAClB,OAAO,IAAI,cAAc,YACzB,IAAI,aAAa,UACjB,OAAO,IAAI,aAAa,YACxB,IAAI,qBAAqB,UACzB,OAAO,IAAI,qBAAqB,YAChC,IAAI,cAAc,UAClB,OAAO,IAAI,cAAc,YACzB,CAAC,MAAM,IAAI,SAAS,KACpB,IAAI,aAAa,UACjB,OAAO,IAAI,aAAa,YACxB,CAAC,MAAM,IAAI,QAAQ;AAEvB;AAOO,SAAS,4BACd,KAC8B;AAC9B,SACE,QAAQ,UACR,QAAQ,YACR,uCAAoB,IAAI,QAAQ,KAChC,MAAM,QAAQ,IAAI,OAAO,KACzB,IAAI,QAAQ,MAAM,CAAC,MAAM,mBAAmB,CAAC,CAAC,KAC9C,MAAM,KAAK,IAAI,IAAI,IAAI,QAAQ,IAAI,CAAC,MAAM,EAAE,eAAe,CAAC,CAAC,EAAE,WAC7D,IAAI,QAAQ;AAElB;",
  "names": []
}
