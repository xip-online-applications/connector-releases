{
  "version": 3,
  "sources": ["../../../../../../../libs/types/src/lib/message.types.ts"],
  "sourcesContent": ["export interface XodBaseMessageType {\n  type: 'ACTION' | 'EVENT' | 'SOURCE' | 'JOB';\n  eventId: string; // Rename to id\n  eventType: string;\n  eventTopic?: string;\n  created: number;\n  payload: object;\n  ttl: number;\n  tenantIdentifier: string;\n  testRun?: boolean;\n  meta?: {\n    [key: string]: unknown;\n  };\n}\n\nexport interface EventPayload {\n  tenantId: string;\n  data?: {\n    [key: string]: unknown;\n  };\n}\n\nexport interface XodEventType extends XodBaseMessageType {\n  type: 'EVENT';\n  payload: EventPayload;\n}\n\nexport interface XodActionPayloadType {\n  content?: string;\n  destination?: string;\n}\n\nexport interface XodActionType extends XodBaseMessageType {\n  type: 'ACTION';\n  payload: XodActionPayloadType;\n}\n\nexport interface XodJobType extends XodBaseMessageType {\n  type: 'JOB';\n  actionIdentifier: string;\n  actionVersion: string;\n  payload: Record<string, unknown>;\n}\n\nexport interface XodSourcePayloadType {\n  keyField?: string;\n  incrementalField?: string;\n  collection?: string;\n  indexes?: Array<string>;\n  body: {\n    [key: string]: unknown;\n  };\n  metadata?: {\n    [key: string]: unknown;\n  };\n  priority?: boolean;\n  endOfBatch?: boolean;\n}\n\nexport interface XodSourceMessageType extends XodBaseMessageType {\n  type: 'SOURCE';\n  payload: XodSourcePayloadType;\n}\n\nexport function isXodBaseMessageType(\n  obj: XodBaseMessageType,\n): obj is XodBaseMessageType {\n  return (\n    obj !== undefined &&\n    obj !== null &&\n    obj.eventId !== undefined &&\n    typeof obj.eventId === 'string' &&\n    obj.eventType !== undefined &&\n    typeof obj.eventType === 'string' &&\n    obj.type !== undefined &&\n    typeof obj.type === 'string' &&\n    (obj.type === 'ACTION' ||\n      obj.type === 'EVENT' ||\n      obj.type === 'SOURCE' ||\n      obj.type === 'JOB') &&\n    obj.payload !== undefined &&\n    obj.created !== undefined &&\n    typeof obj.created === 'number' &&\n    obj.ttl !== undefined &&\n    typeof obj.ttl === 'number'\n  );\n}\n\nexport function isXodEventType(obj: XodEventType): obj is XodEventType {\n  return (\n    isXodBaseMessageType(obj) &&\n    obj.payload.data !== undefined &&\n    typeof obj.payload.data === 'object'\n  );\n}\n\nexport function isXodActionType(obj: XodActionType): obj is XodActionType {\n  return (\n    isXodBaseMessageType(obj) &&\n    obj.payload.content !== undefined &&\n    typeof obj.payload.content === 'string'\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgEO,SAAS,qBACd,KAC2B;AAC3B,SACE,QAAQ,UACR,QAAQ,QACR,IAAI,YAAY,UAChB,OAAO,IAAI,YAAY,YACvB,IAAI,cAAc,UAClB,OAAO,IAAI,cAAc,YACzB,IAAI,SAAS,UACb,OAAO,IAAI,SAAS,aACnB,IAAI,SAAS,YACZ,IAAI,SAAS,WACb,IAAI,SAAS,YACb,IAAI,SAAS,UACf,IAAI,YAAY,UAChB,IAAI,YAAY,UAChB,OAAO,IAAI,YAAY,YACvB,IAAI,QAAQ,UACZ,OAAO,IAAI,QAAQ;AAEvB;AAEO,SAAS,eAAe,KAAwC;AACrE,SACE,qBAAqB,GAAG,KACxB,IAAI,QAAQ,SAAS,UACrB,OAAO,IAAI,QAAQ,SAAS;AAEhC;AAEO,SAAS,gBAAgB,KAA0C;AACxE,SACE,qBAAqB,GAAG,KACxB,IAAI,QAAQ,YAAY,UACxB,OAAO,IAAI,QAAQ,YAAY;AAEnC;",
  "names": []
}
