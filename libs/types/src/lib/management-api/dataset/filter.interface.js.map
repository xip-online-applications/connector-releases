{
  "version": 3,
  "sources": ["../../../../../../../../../libs/types/src/lib/management-api/dataset/filter.interface.ts"],
  "sourcesContent": ["import { z } from 'zod';\nimport { FilterOperatorsEnum, FilterValueType } from '../type-enums';\n\nexport const FilterSchema = z\n  .object({\n    sql: z.string().min(1).optional(),\n    dimension: z.string().min(1).optional(),\n    operator: z.nativeEnum(FilterOperatorsEnum).optional(),\n    value: FilterValueType.optional(),\n  })\n  .superRefine((val, ctx) => {\n    if (val.sql === undefined && val.dimension === undefined) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'One of sql or dimension must be defined.',\n      });\n\n      return;\n    }\n\n    if (val.sql !== undefined && val.dimension !== undefined) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message: 'One of sql or dimension must be defined.',\n      });\n\n      return;\n    }\n\n    if (\n      val.dimension !== undefined &&\n      (val.operator === undefined || val.value === undefined)\n    ) {\n      ctx.addIssue({\n        code: z.ZodIssueCode.custom,\n        message:\n          'When dimension is defined, operator and values must be defined.',\n      });\n    }\n  });\n\nexport interface FilterInterface {\n  dimension?: string;\n  operator?: FilterOperatorsEnum;\n  value?: FilterValueType;\n  sql?: string;\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAkB;AAClB,wBAAqD;AAE9C,MAAM,eAAe,aACzB,OAAO;AAAA,EACN,KAAK,aAAE,OAAO,EAAE,IAAI,CAAC,EAAE,SAAS;AAAA,EAChC,WAAW,aAAE,OAAO,EAAE,IAAI,CAAC,EAAE,SAAS;AAAA,EACtC,UAAU,aAAE,WAAW,qCAAmB,EAAE,SAAS;AAAA,EACrD,OAAO,kCAAgB,SAAS;AAClC,CAAC,EACA,YAAY,CAAC,KAAK,QAAQ;AACzB,MAAI,IAAI,QAAQ,UAAa,IAAI,cAAc,QAAW;AACxD,QAAI,SAAS;AAAA,MACX,MAAM,aAAE,aAAa;AAAA,MACrB,SAAS;AAAA,IACX,CAAC;AAED;AAAA,EACF;AAEA,MAAI,IAAI,QAAQ,UAAa,IAAI,cAAc,QAAW;AACxD,QAAI,SAAS;AAAA,MACX,MAAM,aAAE,aAAa;AAAA,MACrB,SAAS;AAAA,IACX,CAAC;AAED;AAAA,EACF;AAEA,MACE,IAAI,cAAc,WACjB,IAAI,aAAa,UAAa,IAAI,UAAU,SAC7C;AACA,QAAI,SAAS;AAAA,MACX,MAAM,aAAE,aAAa;AAAA,MACrB,SACE;AAAA,IACJ,CAAC;AAAA,EACH;AACF,CAAC;",
  "names": []
}
