{
  "version": 3,
  "sources": ["../../../../../../../libs/connector-runner-samba-source/src/lib/connector-runner-samba-source.ts"],
  "sourcesContent": ["import { ConnectorRuntime } from '@transai/connector-runtime';\nimport {\n  isSambaSourceConnectorConfigType,\n  SambaSourceConnectorConfig,\n} from './types';\nimport { SambaFilesourceProcessorService } from './filesource-processor/samba-filesource-processor.service';\n\nexport class ConnectorRunnerSambaSource extends ConnectorRuntime<SambaSourceConnectorConfig> {\n  readonly CONNECTOR_INSTANCE: string = 'XOD_CONNECTOR_SAMBA_SOURCE_CONFIG';\n\n  #processors: Array<SambaFilesourceProcessorService> = [];\n\n  override init = async (): Promise<void> => {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const sambaSourceConfig of this.config.directories) {\n      const processor = new SambaFilesourceProcessorService(\n        this.config,\n        sambaSourceConfig,\n        this.kafkaService,\n      );\n      // eslint-disable-next-line no-await-in-loop\n      await processor.init();\n    }\n  };\n\n  override exit = async () => {\n    this.#processors.forEach((service) => service.stop());\n    this.#processors = [];\n  };\n\n  override isValidConfig = (config: SambaSourceConnectorConfig): boolean => {\n    return isSambaSourceConnectorConfigType(config);\n  };\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAiC;AACjC,mBAGO;AACP,wCAAgD;AAEzC,MAAM,mCAAmC,0CAA6C;AAAA,EAAtF;AAAA;AACL,SAAS,qBAA6B;AAEtC,uBAAsD,CAAC;AAEvD,SAAS,OAAO,YAA2B;AAEzC,iBAAW,qBAAqB,KAAK,OAAO,aAAa;AACvD,cAAM,YAAY,IAAI;AAAA,UACpB,KAAK;AAAA,UACL;AAAA,UACA,KAAK;AAAA,QACP;AAEA,cAAM,UAAU,KAAK;AAAA,MACvB;AAAA,IACF;AAEA,SAAS,OAAO,YAAY;AAC1B,WAAK,YAAY,QAAQ,CAAC,YAAY,QAAQ,KAAK,CAAC;AACpD,WAAK,cAAc,CAAC;AAAA,IACtB;AAEA,SAAS,gBAAgB,CAAC,WAAgD;AACxE,iBAAO,+CAAiC,MAAM;AAAA,IAChD;AAAA;AAAA,EAtBA;AAuBF;",
  "names": []
}
